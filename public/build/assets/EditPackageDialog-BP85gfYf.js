import{q as p,r as m,W as y,j as e,y as x}from"./app-3SIRTf-5.js";import{B as g}from"./button-mE5Zer4v.js";import{D as j,a as v,b as f,c as b,d as N}from"./dialog-HXmWLQJG.js";import{I as r}from"./input-B_VqwVNS.js";import{L as i}from"./label-sM4Vfyun.js";import{t as u}from"./use-toast-D1Qu1tBf.js";import{P as S}from"./pencil-Hsy6qljt.js";import"./index-C3fbTtBW.js";import"./index-Bb4qSo10.js";import"./utils-C-Zvzyq5.js";import"./index-SipnJt1m.js";import"./index-YuXTghCy.js";import"./index-Cqu9cwS9.js";import"./index-BVcS-tUL.js";import"./x-ZThs6_Gk.js";import"./createLucideIcon-a0XJ54KJ.js";const Q=({pkg:s})=>{p().props.accessControls;const[d,C]=m.useState(JSON.parse(s.access_control_ids||"[]")),[h,c]=m.useState(!1);console.log(s);const{data:n,setData:l,put:D,processing:o,reset:q,errors:a}=y({package_name:s.package_name,admission_amount:s.admission_amount.toString(),months:s.months.toString(),monthly_amount:s.monthly_amount.toString(),discount_quarterly:s.discount_quarterly.toString(),discount_half_yearly:s.discount_half_yearly.toString(),discount_yearly:s.discount_quarterly.toString()}),_=t=>{t.preventDefault(),console.log({...n,access_control_ids:d}),x.put(route("settings.updatePackage",s.id),{...n,access_control_ids:d},{onSuccess:()=>{u({description:"Package updated successfully..."}),c(!1)},onError:()=>{u({description:"Failed to update package...",variant:"destructive"})}})};return e.jsxs(j,{open:h,onOpenChange:c,children:[e.jsx(v,{asChild:!0,children:e.jsx("button",{className:"text-sm me-5 text-muted-foreground flex gap-1",children:e.jsx(S,{size:15})})}),e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(N,{children:["Edit Package ",s.package_name]})}),e.jsxs("form",{onSubmit:_,className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(i,{htmlFor:"package_name",children:"Package Name"}),e.jsx(r,{id:"package_name",value:n.package_name,onChange:t=>l("package_name",t.target.value),placeholder:"Enter package name",disabled:o,className:"w-full"}),a.package_name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.package_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"months",children:"Total Months"}),e.jsx(r,{id:"months",value:n.months,onChange:t=>l("months",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.months&&e.jsx("p",{className:"text-red-500 text-sm",children:a.months})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"admission_amount",children:"Admission Amount"}),e.jsx(r,{id:"admission_amount",value:n.admission_amount,onChange:t=>l("admission_amount",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.admission_amount&&e.jsx("p",{className:"text-red-500 text-sm",children:a.admission_amount})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"monthly_amount",children:"Monthly Amount"}),e.jsx(r,{id:"monthly_amount",value:n.monthly_amount,onChange:t=>l("monthly_amount",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.monthly_amount&&e.jsx("p",{className:"text-red-500 text-sm",children:a.monthly_amount})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"discount_quarterly",children:"Quarterly Discount"}),e.jsx(r,{id:"discount_quarterly",value:n.discount_quarterly,onChange:t=>l("discount_quarterly",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.discount_quarterly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_quarterly})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"discount_half_yearly",children:"Half-Yearly Discount"}),e.jsx(r,{id:"discount_half_yearly",value:n.discount_half_yearly,onChange:t=>l("discount_half_yearly",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.discount_half_yearly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_half_yearly})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"discount_yearly",children:"Yearly Discount"}),e.jsx(r,{id:"discount_yearly",value:n.discount_yearly,onChange:t=>l("discount_yearly",t.target.value),placeholder:"0.00",type:"number",disabled:o}),a.discount_yearly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_yearly})]}),e.jsx("div",{className:"col-span-2",children:e.jsx(g,{type:"submit",disabled:o,className:"w-full mt-4",children:o?"Saving...":"Save"})})]})]})]})};export{Q as default};
