import{W as w,r as d,j as e,d as C}from"./app-3SIRTf-5.js";import{B as c}from"./button-mE5Zer4v.js";import{D as N,a as b,b as y,c as F,d as O,e as T}from"./dialog-HXmWLQJG.js";import{I as l}from"./input-B_VqwVNS.js";import{L as t}from"./label-sM4Vfyun.js";import{S as h,a as m,b as p,c as x,e as j,d as a}from"./select-BAAnM0MM.js";import{S as G}from"./SingleImageUploader-BKnIjpuV.js";import{t as g}from"./use-toast-D1Qu1tBf.js";import{b as I}from"./utils-C-Zvzyq5.js";import{h as P}from"./moment-Cl4UOzQZ.js";import"./index-C3fbTtBW.js";import"./index-Bb4qSo10.js";import"./index-SipnJt1m.js";import"./index-YuXTghCy.js";import"./index-Cqu9cwS9.js";import"./index-BVcS-tUL.js";import"./x-ZThs6_Gk.js";import"./createLucideIcon-a0XJ54KJ.js";import"./index-BwJKMgpa.js";import"./index-v8WOfFnQ.js";import"./InputError-BCZ6gpxT.js";const se=({refetch:f})=>{const{data:n,setData:r,reset:u}=w({name:"",phone:"",photo:null,gender:"male",joining_date:new Date,position:"",is_active:1}),[E,o]=d.useState(!1),[v,i]=d.useState(!1),S=s=>{s.preventDefault(),console.log(n),o(!0),C.post("/staffs",n,{headers:{"Content-Type":"multipart/form-data"}}).then(D=>{g({description:"Staff Created successfully"}),u(),f(),i(!1)}).catch(D=>{g({description:"Failed to create staff"})}).finally(()=>{o(!1)})};return e.jsxs(N,{open:v,onOpenChange:i,children:[e.jsx(b,{children:e.jsx(c,{onClick:()=>i(!0),children:"Add New"})}),e.jsxs(y,{children:[e.jsxs(F,{children:[e.jsx(O,{children:"Add New"}),e.jsx(T,{children:"Add new staff member"})]}),e.jsxs("form",{className:"space-y-2",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(l,{type:"text",id:"name",value:n.name,placeholder:"Enter the name of the new staff member",onChange:s=>r("name",I(s.target.value))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phone",children:"Phone"}),e.jsx(l,{type:"tel",id:"phone",value:n.phone,placeholder:"Enter Staff's Phone",onChange:s=>r("phone",s.target.value),maxLength:10,minLength:10})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"gender",children:"Gender"}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Gender"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{value:"male",children:"Male"}),e.jsx(a,{value:"female",children:"Female"}),e.jsx(a,{value:"other",children:"Other"})]})})]})]})]}),e.jsx(G,{onImageUpload:s=>r("photo",s),className:"grow min-h-32"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"position",children:"Position"}),e.jsxs(h,{onValueChange:s=>r("position",s),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select a Position"})}),e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(a,{value:"Owner",children:"Owner"}),e.jsx(a,{value:"Manager",children:"Manager"}),e.jsx(a,{value:"Trainer",children:"Trainer"}),e.jsx(a,{value:"Reception",children:"Reception"}),e.jsx(a,{value:"Guard",children:"Guard"}),e.jsx(a,{value:"House-Keeping",children:"House Keeping"}),e.jsx(a,{value:"other",children:"Other"})]})})]})]}),e.jsxs("div",{className:"grow",children:[e.jsx(t,{htmlFor:"expiryDate",children:"Joining Date"}),e.jsx(l,{type:"date",onChange:s=>r("joining_date",P(s.target.value).format())})]})]}),e.jsx("div",{children:e.jsx(c,{type:"submit",children:"Save"})})]})]})]})};export{se as default};
