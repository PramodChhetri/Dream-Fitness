import{q as f,r as c,W as b,j as e,y as C}from"./app-MbUP1EQI.js";import{B as m}from"./button-CzAhYwEo.js";import{D as k,a as N,b as D,c as A,d as S}from"./dialog-Bcf4xQSo.js";import{I as o}from"./input-BPMtujBP.js";import{L as r}from"./label-DUXNj4de.js";import{t as u}from"./use-toast-BPI7qPE7.js";import{C as q}from"./checkbox-CoZo_njf.js";import"./index-DHdUJXuL.js";import"./index-Bb4qSo10.js";import"./utils-C-Zvzyq5.js";import"./index-DrAYGk9J.js";import"./index-50k3gDpb.js";import"./index-ynk8XwVw.js";import"./index-B2Mnvzit.js";import"./x-BkjT11oR.js";import"./createLucideIcon-DhDSKE00.js";import"./check-BQwKtKwj.js";const K=()=>{const h=f().props.accessControls,[i,p]=c.useState([]),[x,d]=c.useState(!1),{data:t,setData:n,post:F,processing:l,reset:y,errors:a}=b({package_name:"",admission_amount:"",months:"",monthly_amount:"",discount_quarterly:"",discount_half_yearly:"",discount_yearly:""}),_=s=>{s.preventDefault(),console.log({...t,access_control_ids:i}),C.post(route("settings.storePackage"),{...t,access_control_ids:i},{onSuccess:()=>{u({title:"Success",description:"Package added successfully"}),y(),d(!1)},onError:()=>{u({title:"Error",description:"Failed to add package",variant:"destructive"})}})},g=s=>{const j=i.includes(s)?i.filter(v=>v!==s):[...i,s];p(j)};return e.jsxs(k,{open:x,onOpenChange:d,children:[e.jsx(N,{asChild:!0,children:e.jsx(m,{children:"Add Package"})}),e.jsxs(D,{children:[e.jsx(A,{children:e.jsx(S,{children:"Add New Package"})}),e.jsxs("form",{onSubmit:_,className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{htmlFor:"package_name",children:"Package Name"}),e.jsx(o,{id:"package_name",value:t.package_name,onChange:s=>n("package_name",s.target.value),placeholder:"Enter package name",disabled:l,className:"w-full"}),a.package_name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.package_name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"months",children:"Total Months"}),e.jsx(o,{id:"months",value:t.months,onChange:s=>n("months",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.months&&e.jsx("p",{className:"text-red-500 text-sm",children:a.months})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"admission_amount",children:"Admission Amount"}),e.jsx(o,{id:"admission_amount",value:t.admission_amount,onChange:s=>n("admission_amount",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.admission_amount&&e.jsx("p",{className:"text-red-500 text-sm",children:a.admission_amount})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"monthly_amount",children:"Monthly Amount"}),e.jsx(o,{id:"monthly_amount",value:t.monthly_amount,onChange:s=>n("monthly_amount",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.monthly_amount&&e.jsx("p",{className:"text-red-500 text-sm",children:a.monthly_amount})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"discount_quarterly",children:"Quarterly Discount"}),e.jsx(o,{id:"discount_quarterly",value:t.discount_quarterly,onChange:s=>n("discount_quarterly",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.discount_quarterly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_quarterly})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"discount_half_yearly",children:"Half-Yearly Discount"}),e.jsx(o,{id:"discount_half_yearly",value:t.discount_half_yearly,onChange:s=>n("discount_half_yearly",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.discount_half_yearly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_half_yearly})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"discount_yearly",children:"Yearly Discount"}),e.jsx(o,{id:"discount_yearly",value:t.discount_yearly,onChange:s=>n("discount_yearly",s.target.value),placeholder:"0.00",type:"number",disabled:l}),a.discount_yearly&&e.jsx("p",{className:"text-red-500 text-sm",children:a.discount_yearly})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{children:"Access Controls"}),e.jsx("div",{className:"border border-border rounded-lg p-3 max-h-[200px] overflow-y-auto grid grid-cols-2 gap-4",children:h.map(s=>e.jsx("div",{children:e.jsxs(r,{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(q,{checked:i.includes(s.id),onCheckedChange:()=>g(s.id)}),e.jsx("span",{children:s.name})]})},s.id))})]}),e.jsx("div",{className:"col-span-2",children:e.jsx(m,{type:"submit",disabled:l,className:"w-full mt-4",children:l?"Saving...":"Save"})})]})]})]})};export{K as default};
