import{r as u,W as S,j as e}from"./app-3SIRTf-5.js";import{I as t}from"./InputError-BCZ6gpxT.js";import{B as j}from"./button-mE5Zer4v.js";import{D as b,b as C,c as D,d as w,e as k}from"./dialog-HXmWLQJG.js";import{I as d}from"./input-B_VqwVNS.js";import{L as i}from"./label-sM4Vfyun.js";import{S as c,a as m,b as h,c as p,d as r}from"./select-BAAnM0MM.js";import{S as E}from"./SingleImageUploader-BKnIjpuV.js";import{T as F}from"./textarea-BAe97Pwd.js";import{t as I}from"./use-toast-D1Qu1tBf.js";import{b as x}from"./utils-C-Zvzyq5.js";import{c as V}from"./createLucideIcon-a0XJ54KJ.js";import"./index-C3fbTtBW.js";import"./index-Bb4qSo10.js";import"./index-SipnJt1m.js";import"./index-YuXTghCy.js";import"./index-Cqu9cwS9.js";import"./index-BVcS-tUL.js";import"./x-ZThs6_Gk.js";import"./index-BwJKMgpa.js";import"./index-v8WOfFnQ.js";/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=V("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function re({member:a,open:_,onClose:g}){u.useState(typeof a.photo=="string"?a.photo:"");const[M,f]=u.useState(!1),{data:o,setData:n,errors:l,processing:v,setError:P,post:y}=S({name:a.name,marital_status:a.marital_status,date_of_birth:a.date_of_birth,gender:a.gender,phone:a.phone,preferred_time:a.preferred_time,occupation:a.occupation,address:a.address,photo:null,payment_expiry_date:a.payment_expiry_date,remarks:a.remarks,emergency_person_name:a.emergency_person_name||"",emergency_person_phone:a.emergency_person_phone||""}),N=s=>{s.preventDefault(),f(!0),y(`/member/${a.id}`,{onSuccess:()=>{I({description:"Member updated successfully..."}),g()}})};return e.jsx(b,{open:_,onOpenChange:g,children:e.jsxs(C,{className:"max-w-2xl max-h-[99vh] overflow-auto",children:[e.jsxs(D,{children:[e.jsx(w,{children:"Edit Member Information"}),e.jsx(k,{children:"Efficiently manage and update membership details in this section"})]}),e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-3",children:[e.jsxs("div",{className:"col-span-full flex flex-col sm:flex-row gap-x-5 items-center",children:[e.jsx("div",{className:"relative size-36",onClick:()=>{var s;return(s=document.getElementById("photo-input"))==null?void 0:s.click()},children:e.jsx(E,{onImageUpload:s=>n("photo",s),imageView:"cover",currentImage:a.photo,className:"w-full min-w-[100px] h-full",required:!1})}),e.jsxs("div",{className:"grid grid-cols-1 grow w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"name",children:"Name"}),e.jsx(d,{id:"name",name:"name",value:o.name,onChange:s=>n("name",x(s.target.value))}),e.jsx(t,{message:l.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"occupation",children:"Occupation"}),e.jsxs(c,{defaultValue:o.occupation,onValueChange:s=>n("occupation",s),children:[e.jsx(m,{id:"occupation",children:e.jsx(h,{placeholder:"Select occupation"})}),e.jsxs(p,{children:[e.jsx(r,{value:"private-job",children:"Private Job"}),e.jsx(r,{value:"government-job",children:"Government Job"}),e.jsx(r,{value:"business",children:"Business"}),e.jsx(r,{value:"student",children:"Student"}),e.jsx(r,{value:"housewife",children:"House Wife"}),e.jsx(r,{value:"other",children:"Other"})]})]}),e.jsx(t,{message:l.occupation,className:"mt-2"})]})]})]}),e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"grid sm:grid-cols-3 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"gender",children:"Gender"}),e.jsxs(c,{onValueChange:s=>n("gender",s),defaultValue:o.gender,children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Please select Gender"})}),e.jsxs(p,{children:[e.jsx(r,{value:"male",children:"Male"}),e.jsx(r,{value:"female",children:"Female"}),e.jsx(r,{value:"other",children:"Other"})]})]}),e.jsx(t,{message:l.gender})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"marital_status",children:"Marital Status"}),e.jsxs(c,{onValueChange:s=>n("marital_status",s),defaultValue:o.marital_status,children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Please select Marital Status"})}),e.jsxs(p,{children:[e.jsx(r,{value:"single",children:"Single"}),e.jsx(r,{value:"married",children:"Married"})]})]}),e.jsx(t,{message:l.marital_status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"preferred_time",children:"Preferred Shift"}),e.jsxs(c,{onValueChange:s=>n("preferred_time",s),children:[e.jsx(m,{children:e.jsx(h,{placeholder:"Select preferred shift"})}),e.jsxs(p,{children:[e.jsx(r,{value:"Morning",children:"Morning"}),e.jsx(r,{value:"Day",children:"Day"}),e.jsx(r,{value:"Evening",children:"Evening"})]})]}),e.jsx(t,{message:l.preferred_time,className:"mt-2"})]})]})}),e.jsxs("div",{className:"grid col-span-full sm:grid-cols-3 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(d,{type:"date",id:"date_of_birth",defaultValue:new Date(o.date_of_birth).toISOString().split("T")[0],onChange:s=>n("date_of_birth",new Date(s.target.value))}),e.jsx(t,{message:l.date_of_birth})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"payment_expiry_date",children:"Payment Expiry Date"}),e.jsx(d,{type:"date",id:"payment_expiry_date",defaultValue:new Date(o.payment_expiry_date).toISOString().split("T")[0],onChange:s=>n("payment_expiry_date",new Date(s.target.value))}),e.jsx(t,{message:l.payment_expiry_date})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number"}),e.jsx(d,{id:"phone",name:"phone",value:o.phone,onChange:s=>n("phone",s.target.value),maxLength:10,minLength:10}),e.jsx(t,{message:l.phone})]})]}),e.jsxs("div",{className:"grid col-span-full sm:grid-cols-2 gap-x-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"emergency_person_name",children:"Emergency Contact Person"}),e.jsx(d,{id:"emergency_person_name",name:"emergency_person_name",value:o.emergency_person_name,onChange:s=>n("emergency_person_name",x(s.target.value))}),e.jsx(t,{message:l.emergency_person_name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"emergency_person_phone",children:"Emergency Contact Phone"}),e.jsx(d,{id:"emergency_person_phone",name:"emergency_person_phone",value:o.emergency_person_phone,onChange:s=>n("emergency_person_phone",s.target.value),maxLength:10,minLength:10}),e.jsx(t,{message:l.emergency_person_phone})]})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(d,{id:"address",name:"address",value:o.address,onChange:s=>n("address",x(s.target.value))}),e.jsx(t,{message:l.address})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"remarks",children:"Remarks"}),e.jsx(F,{id:"remarks",placeholder:"Any remarks here...",name:"remarks",value:o.remarks,onChange:s=>n("remarks",s.target.value)}),e.jsx(t,{message:l.remarks})]}),e.jsx("div",{className:"col-span-full text-right",children:v?e.jsx(j,{disabled:!0,className:"w-full sm:w-fit",children:e.jsx(L,{className:"animate-spin"})}):e.jsx(j,{className:"w-full sm:w-fit",children:"Update"})})]})})]})})}export{re as EditMemberDialog};
