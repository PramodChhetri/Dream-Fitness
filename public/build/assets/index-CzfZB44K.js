import{q as c,j as a,Y as v,a as d,y as N}from"./app-3SIRTf-5.js";import{A as _}from"./AuthenticatedLayout-CJJr-twT.js";import{T as w,a as M,b as h,c as s,d as A,e as i}from"./table-EyrCOfFI.js";import{h as l}from"./moment-Cl4UOzQZ.js";import{B as n}from"./badge-N3QcmQek.js";import{B as x}from"./button-mE5Zer4v.js";import k from"./index-DTejacZa.js";import T from"./FilterPopover-DDFX88Bd.js";import{I as L}from"./input-B_VqwVNS.js";import"./GlobalLayout-CMcNHiVS.js";import"./toaster-Dw7QYiKI.js";import"./index-YuXTghCy.js";import"./index-Cqu9cwS9.js";import"./index-BwJKMgpa.js";import"./x-ZThs6_Gk.js";import"./createLucideIcon-a0XJ54KJ.js";import"./index-Bb4qSo10.js";import"./utils-C-Zvzyq5.js";import"./use-toast-D1Qu1tBf.js";import"./card-CBtJbqk1.js";import"./sheet-Dncmpnv9.js";import"./index-SipnJt1m.js";import"./index-BVcS-tUL.js";import"./dropdown-menu-CVU-zAeu.js";import"./index-v8WOfFnQ.js";import"./index-C3fbTtBW.js";import"./ViewMemberDialog-BoiDXjFo.js";import"./dialog-HXmWLQJG.js";import"./member-service-DldE_swl.js";import"./DeleteMemberDialog-dFzdUhZy.js";import"./SendMessageDialog-IFJ984Gq.js";import"./textarea-BAe97Pwd.js";import"./RenewPackageDialog-CWw_MhkH.js";import"./select-BAAnM0MM.js";import"./label-sM4Vfyun.js";import"./InputError-BCZ6gpxT.js";import"./LockerDialog-bZJQGian.js";import"./EditLockerDialog-DkSY2qyh.js";import"./EditMemberDialog-CVN4iqMQ.js";import"./SingleImageUploader-BKnIjpuV.js";import"./MemberAccountsDialog-DypuOtIr.js";import"./format-CE4V3joc.js";import"./ChangePackageDialog-OUGi2v4j.js";import"./ExtendLocker-DYt24vT3.js";import"./ellipsis-DOHh4jnl.js";import"./popover-jqHnf68I.js";import"./filter-DydOf_4B.js";function _t(){const{auth:j,members:o,packages:u}=c().props,g={currentPage:o.current_page,links:o.links,total:o.total};c().url;const f=t=>{if(t.key==="Enter"){const r=t.target;return N.visit("/members?filter[search]="+r.value)}},y=new URLSearchParams(window.location.search);return a.jsxs(_,{user:j.user,header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Members"}),children:[a.jsx(v,{title:"Members"}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center gap-2",children:[a.jsx("div",{className:"grow",children:a.jsx(L,{type:"search",placeholder:"Search Members Here...",onKeyDown:f,defaultValue:y.get("filter[search]")||""})}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(T,{packages:u}),a.jsx(d,{href:"/members/create",children:a.jsx(x,{children:"Add Member"})})]})]}),a.jsxs(w,{children:[a.jsx(M,{children:a.jsxs(h,{children:[a.jsx(s,{}),a.jsx(s,{children:"Membership ID"}),a.jsx(s,{children:"Member Name"}),a.jsx(s,{children:"Phone"}),a.jsx(s,{children:"Joining Date"}),a.jsx(s,{children:"Payment Expiry Date"}),a.jsx(s,{children:"Membership Package"}),a.jsx(s,{children:"Status"}),a.jsx(s,{children:"Actions"})]})}),a.jsx(A,{children:o.data.map(t=>{var r,p,e;return a.jsxs(h,{children:[a.jsx(i,{children:a.jsx("img",{src:t==null?void 0:t.photo,className:"w-14 h-14 object-cover rounded-full border-2 border-primary p-0.5",alt:"Member"})}),a.jsx(i,{children:t==null?void 0:t.id}),a.jsx(i,{children:t==null?void 0:t.name}),a.jsx(i,{children:t==null?void 0:t.phone}),a.jsx(i,{children:t!=null&&t.start_date?l(t.start_date).format("LL"):"N/A"}),a.jsxs(i,{children:[t!=null&&t.payment_expiry_date?l(t.payment_expiry_date).format("LL"):"N/A",a.jsx("small",{className:"block text-muted-foreground font-bold",children:t!=null&&t.payment_expiry_date?l(t.payment_expiry_date).fromNow():""})]}),a.jsx(i,{children:((r=t==null?void 0:t.membership_package)==null?void 0:r.package_name)||"N/A"}),a.jsx(i,{children:((p=t==null?void 0:t.status)==null?void 0:p.toLowerCase())==="active"?a.jsx(n,{className:"bg-green-500 hover:bg-green-600",children:"Active"}):((e=t==null?void 0:t.status)==null?void 0:e.toLowerCase())==="unapproved"?a.jsx(n,{className:"bg-orange-500 hover:bg-orange-600",children:"Unapproved"}):a.jsx(n,{className:"bg-red-500 hover:bg-red-600",children:(t==null?void 0:t.status)||"Unknown"})}),a.jsx(i,{children:a.jsx(k,{member:t})})]},t==null?void 0:t.id)})})]}),a.jsx("div",{className:"py-2 flex justify-end space-x-2",children:g.links.map((t,r)=>a.jsx(d,{href:t.url??"#",children:a.jsx(x,{disabled:t.active,variant:t.active?"default":"ghost",children:t.label.replace("&laquo;","«").replace("&raquo;","»")},r)},r))})]})]})}export{_t as default};
